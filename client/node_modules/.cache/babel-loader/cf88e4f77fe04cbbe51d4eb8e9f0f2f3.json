{"ast":null,"code":"var _jsxFileName = \"/Users/shibinabraham/Downloads/9-7-2022 admin cms ecom/client/src/components/category-table/CategoryTable.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Button, Col, Form, Row } from \"react-bootstrap\";\nimport Table from \"react-bootstrap/Table\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteCategoryAction, getCategoriesAction } from \"../../pages/categories/catAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CategoryTable = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [catToDelete, setCatToDelete] = useState([]);\n  const {\n    categories\n  } = useSelector(state => state.categories);\n  useEffect(() => {\n    dispatch(getCategoriesAction());\n  }, []);\n\n  const handleOnSelect = e => {\n    const {\n      checked,\n      value\n    } = e.target;\n    console.log(checked, value); //header checkbox clic\n\n    if (value === \"all\") {\n      checked ? setCatToDelete(categories.map(item => item._id)) : setCatToDelete([]);\n      return;\n    } //individual item click\n\n\n    if (checked) {\n      // add value to the list\n      setCatToDelete([...catToDelete, value]);\n    } else {\n      //take out of the list\n      setCatToDelete(catToDelete.filter(id => id !== value));\n    }\n  };\n\n  const handleOnDelete = () => {\n    if (window.confirm(\"Are you sure you want to delete selected categories\")) {\n      dispatch(deleteCategoryAction({\n        ids: catToDelete\n      }));\n      setCatToDelete([]);\n    }\n  };\n\n  console.log(catToDelete);\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"mt-5\",\n    children: /*#__PURE__*/_jsxDEV(Col, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [categories.length, \" Categories found \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                value: \"all\",\n                onChange: handleOnSelect\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: categories.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(Form.Check, {\n                value: item._id,\n                onChange: handleOnSelect,\n                checked: catToDelete.includes(item._id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"warning\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), catToDelete.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"danger\",\n        onClick: handleOnDelete,\n        children: [\"Delete selected \", catToDelete.length, \" categories\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CategoryTable, \"oIpJGkD24/BlC6JLfGAbt33302E=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CategoryTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryTable\");","map":{"version":3,"names":["useEffect","useState","Button","Col","Form","Row","Table","useDispatch","useSelector","deleteCategoryAction","getCategoriesAction","CategoryTable","dispatch","catToDelete","setCatToDelete","categories","state","handleOnSelect","e","checked","value","target","console","log","map","item","_id","filter","id","handleOnDelete","window","confirm","ids","length","includes","status","name"],"sources":["/Users/shibinabraham/Downloads/9-7-2022 admin cms ecom/client/src/components/category-table/CategoryTable.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Button, Col, Form, Row } from \"react-bootstrap\";\nimport Table from \"react-bootstrap/Table\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  deleteCategoryAction,\n  getCategoriesAction,\n} from \"../../pages/categories/catAction\";\n\nexport const CategoryTable = () => {\n  const dispatch = useDispatch();\n  const [catToDelete, setCatToDelete] = useState([]);\n\n  const { categories } = useSelector((state) => state.categories);\n\n  useEffect(() => {\n    dispatch(getCategoriesAction());\n  }, []);\n\n  const handleOnSelect = (e) => {\n    const { checked, value } = e.target;\n    console.log(checked, value);\n\n    //header checkbox clic\n    if (value === \"all\") {\n      checked\n        ? setCatToDelete(categories.map((item) => item._id))\n        : setCatToDelete([]);\n\n      return;\n    }\n\n    //individual item click\n    if (checked) {\n      // add value to the list\n      setCatToDelete([...catToDelete, value]);\n    } else {\n      //take out of the list\n      setCatToDelete(catToDelete.filter((id) => id !== value));\n    }\n  };\n\n  const handleOnDelete = () => {\n    if (window.confirm(\"Are you sure you want to delete selected categories\")) {\n      dispatch(deleteCategoryAction({ ids: catToDelete }));\n      setCatToDelete([]);\n    }\n  };\n\n  console.log(catToDelete);\n  return (\n    <Row className=\"mt-5\">\n      <Col>\n        <p>{categories.length} Categories found </p>\n\n        <Table striped bordered hover>\n          <thead>\n            <tr>\n              <th>\n                <Form.Check value=\"all\" onChange={handleOnSelect} />\n              </th>\n              <th> Status</th>\n              <th> Name</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {categories.map((item) => (\n              <tr key={item._id}>\n                <td>\n                  {\" \"}\n                  <Form.Check\n                    value={item._id}\n                    onChange={handleOnSelect}\n                    checked={catToDelete.includes(item._id)}\n                  />\n                </td>\n                <td>{item.status}</td>\n                <td>{item.name}</td>\n                <td>\n                  <Button variant=\"warning\">Edit</Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n        {catToDelete.length > 0 && (\n          <Button variant=\"danger\" onClick={handleOnDelete}>\n            Delete selected {catToDelete.length} categories\n          </Button>\n        )}\n      </Col>\n    </Row>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}